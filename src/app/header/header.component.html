<mat-toolbar color="accent" class="toolbarDiv mat-elevation-z2">
  <button mat-button routerLink="/home">
    <div class="logoDiv">
      <img
        mat-card-avatar
        src="../../assets/logo.ico"
        style="width: 3em; border-radius: 2em"
      /><span
        class="appnamediv"
        style="padding-left: 0.5em; font-size: 1.5em"
        [innerText]="env.appName"
      ></span>
    </div>
  </button>
  <h1 [innerText]="currentTitle()?.label"></h1>
  <div class="expanded">
    <h3
      class="greeting fadeOut"
      [innerText]="'Welcome ' + authenticationService.user()?.displayName"
      [ngStyle]="{ display: showGreeting() ? 'block' : 'none' }"
    ></h3>
    @for (headerAction of headerActions(); track headerActions) {
    <button
      ngClass="headerAction.styleClass"
      mat-icon-button
      (click)="headerAction.action(headerAction.param)"
    >
      {{ headerAction.label }}
      @if(headerAction.innerIcon !== undefined){
      <mat-icon fontIcon="{{ headerAction.innerIcon.fontIcon }}"></mat-icon>
      }
    </button>
    }
  </div>
  <button
    mat-icon-button
    class="contract"
    [matMenuTriggerFor]="menu"
    aria-label="menu icon"
  >
    <mat-icon fontIcon="menu"></mat-icon>
  </button>
  <!-- hide all above icons if there are too many icons -->
  <mat-menu #menu="matMenu">
    @for (headerAction of headerActions(); track headerActions) {
    <button
      class="phoneBtn"
      mat-button
      (click)="headerAction.action(headerAction.param)"
    >
      @if(headerAction.innerIcon !== undefined){
      <mat-icon fontIcon="{{ headerAction.innerIcon.fontIcon }}"></mat-icon>
      }
      <div>{{ headerAction.mobileLabel }}</div>
    </button>
    }
  </mat-menu>
</mat-toolbar>
